{"version":3,"sources":["../node_modules/material-ui-shell/lib/components/Scrollbar/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","pages/FaceDetection/FaceDetection.js"],"names":["exports","__esModule","default","obj","_Scrollbar","require","module","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","FaceDetection","pageTitle","props","intl","formatMessage","id","style","height","width","display","flex","autoPlay","muted","faceapi","window","video","document","getElementById","videoContainer","all","nets","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","navigator","getUserMedia","stream","srcObject","console","addEventListener","canvas","createCanvasFromMedia","append","displaySize","matchDimensions","setInterval","a","detectAllFaces","TinyFaceDetectorOptions","withFaceLandmarks","withFaceExpressions","detections","resizedDetections","resizeResults","getContext","clearRect","draw","drawDetections","drawFaceLandmarks","drawFaceExpressions","React","Component","injectIntl"],"mappings":"4FAEAA,EAAQC,YAAa,EACrBD,EAAQE,aAAU,EAElB,IAIgCC,EAJ5BC,GAI4BD,EAJQE,EAAQ,OAIKF,EAAIF,WAAaE,EAAM,CAAED,QAASC,GAFvFH,EAAQE,QAAUE,EAAWF,QAI7BI,EAAON,QAAUA,EAAQE,S,oBCXzBI,EAAON,QAAU,EAAQ,M,8DCAzB,SAASO,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,GAIxB,SAASS,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,GAGnEjB,OAAMkB,O,gGCzBNC,E,uKAEF,OACE,kBAAC,IAAD,CAAMC,UAAWP,KAAKQ,MAAMC,KAAKC,cAAc,CAAEC,GAAI,oBACnD,kBAAC,IAAD,CACEC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,OAAQC,QAAS,OAAQC,KAAM,IAE/D,yBAAKL,GAAG,mBACN,2BAAOA,GAAG,QAAQG,MAAM,MAAMD,OAAO,MAAMI,UAAQ,EAACC,OAAK,S,0CAQjE,IAAMC,EAAUC,OAAOD,QACjBE,EAAQC,SAASC,eAAe,SAChCC,EAAiBF,SAASC,eAAe,mBAE/C5B,QAAQ8B,IAAI,CACVN,EAAQO,KAAKC,iBAAiBC,YAAY,WAC1CT,EAAQO,KAAKG,kBAAkBD,YAAY,WAC3CT,EAAQO,KAAKI,mBAAmBF,YAAY,WAC5CT,EAAQO,KAAKK,kBAAkBH,YAAY,aAC1ChC,MAEH,WACEoC,UAAUC,aACR,CAAEZ,MAAO,KACT,SAAAa,GAAM,OAAIb,EAAMc,UAAYD,KAC5B,SAAA9B,GAAG,OAAIgC,QAAQ3C,MAAMW,SAIzBiB,EAAMgB,iBAAiB,QAAQ,WAC7B,IAAMC,EAASnB,EAAQoB,sBAAsBlB,GAC7CG,EAAegB,OAAOF,GACtB,IAAMG,EAAc,CAAE3B,MAAOO,EAAMP,MAAOD,OAAQQ,EAAMR,QACxDM,EAAQuB,gBAAgBJ,EAAQG,GAChCE,YAAW,YAAC,8BAAAC,EAAA,sEACezB,EAAQ0B,eAAexB,EAAO,IAAIF,EAAQ2B,yBAA2BC,oBAAoBC,sBADxG,OACJC,EADI,OAEJC,EAAoB/B,EAAQgC,cAAcF,EAAYR,GAC5DH,EAAOc,WAAW,MAAMC,UAAU,EAAG,EAAGf,EAAOxB,MAAOwB,EAAOzB,QAC7DM,EAAQmC,KAAKC,eAAejB,EAAQY,GACpC/B,EAAQmC,KAAKE,kBAAkBlB,EAAQY,GACvC/B,EAAQmC,KAAKG,oBAAoBnB,EAAQY,GAN/B,2CAOT,Y,GA/CmBQ,IAAMC,WAoDnBC,sBAAWtD","file":"static/js/7.25bec110.chunk.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _Scrollbar = _interopRequireDefault(require(\"./Scrollbar.js\"));\n\nexports.default = _Scrollbar.default;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports.default;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React from 'react'\r\n\r\nimport { injectIntl } from 'react-intl'\r\nimport Page from 'material-ui-shell/lib/containers/Page/Page'\r\nimport Scrollbar from 'material-ui-shell/lib/components/Scrollbar';\r\n\r\nclass FaceDetection extends React.Component {\r\n  render() {\r\n    return (\r\n      <Page pageTitle={this.props.intl.formatMessage({ id: 'face_detection' })}>\r\n        <Scrollbar\r\n          style={{ height: '100%', width: '100%', display: 'flex', flex: 1 }}\r\n        >\r\n          <div id=\"video-container\">\r\n            <video id=\"video\" width=\"500\" height=\"400\" autoPlay muted></video>\r\n          </div>\r\n        </Scrollbar>\r\n      </Page>\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    const faceapi = window.faceapi\r\n    const video = document.getElementById('video')\r\n    const videoContainer = document.getElementById('video-container')\r\n\r\n    Promise.all([\r\n      faceapi.nets.tinyFaceDetector.loadFromUri('/models'),\r\n      faceapi.nets.faceLandmark68Net.loadFromUri('/models'),\r\n      faceapi.nets.faceRecognitionNet.loadFromUri('/models'),\r\n      faceapi.nets.faceExpressionNet.loadFromUri('/models')\r\n    ]).then(startVideo)\r\n\r\n    function startVideo() {\r\n      navigator.getUserMedia(\r\n        { video: {} },\r\n        stream => video.srcObject = stream,\r\n        err => console.error(err)\r\n      )\r\n    }\r\n\r\n    video.addEventListener('play', () => {\r\n      const canvas = faceapi.createCanvasFromMedia(video)\r\n      videoContainer.append(canvas)\r\n      const displaySize = { width: video.width, height: video.height }\r\n      faceapi.matchDimensions(canvas, displaySize)\r\n      setInterval(async () => {\r\n        const detections = await faceapi.detectAllFaces(video, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions()\r\n        const resizedDetections = faceapi.resizeResults(detections, displaySize)\r\n        canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height)\r\n        faceapi.draw.drawDetections(canvas, resizedDetections)\r\n        faceapi.draw.drawFaceLandmarks(canvas, resizedDetections)\r\n        faceapi.draw.drawFaceExpressions(canvas, resizedDetections)\r\n      }, 100)\r\n    })\r\n  }\r\n}\r\n\r\nexport default injectIntl(FaceDetection)\r\n"],"sourceRoot":""}